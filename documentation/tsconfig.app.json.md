# Структура файла `tsconfig.app.json` в контексте Vue.js

Файл `tsconfig.app.json` — это конфигурационный файл TypeScript, который определяет настройки компиляции и проверки типов для клиентской части приложения в проекте Vue.js. Он используется для обработки исходного кода приложения, включая `.ts`, `.tsx` и `.vue` файлы, и интегрируется с инструментами, такими как Vite и `vue-tsc`. Этот файл обычно является частью модульной структуры, связанной с корневым `tsconfig.json`.

## Основные функции

- **Настройка компиляции клиентского кода**: Определяет, какие файлы включаются в компиляцию, и задаёт параметры TypeScript для клиентской части проекта.
- **Поддержка Vue**: Обеспечивает корректную обработку однофайловых компонентов `.vue` с помощью `vue-tsc`.
- **Интеграция с Vite**: Настраивает TypeScript для совместимости с Vite, включая поддержку ES Modules и псевдонимов путей.
- **Исключение тестов**: Исключает тестовые файлы, чтобы они обрабатывались отдельной конфигурацией (например, `tsconfig.vitest.json`).
- **Модульность**: Наследует базовые настройки из других конфигураций, чтобы избежать дублирования.

## Разбор `tsconfig.app.json`

```json
{
  "extends": "@vue/tsconfig/tsconfig.dom.json",
  "include": ["env.d.ts", "src/**/*", "src/**/*.vue"],
  "exclude": ["src/**/__tests__/*"],
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

### Поля файла

- **`"extends": "@vue/tsconfig/tsconfig.dom.json"`**  
  Указывает, что текущая конфигурация наследует настройки из файла `@vue/tsconfig/tsconfig.dom.json`.

  - Пакет `@vue/tsconfig` предоставляет готовые конфигурации для Vue-проектов.
  - `tsconfig.dom.json` включает настройки, оптимизированные для браузерной среды (DOM):
    - `"lib": ["ESNext", "DOM", "DOM.Iterable"]` — включает библиотеки для ESNext и DOM API.
    - `"module": "ESNext"` — поддержка ES Modules, используемых Vite.
    - `"target": "ESNext"` — компиляция для современных браузеров.
    - `"moduleResolution": "Bundler"` — совместимость с Vite и другими бандлерами.
    - `"strict": true` — строгая проверка типов для повышения безопасности кода.
  - Наследование упрощает настройку, позволяя переопределять только необходимые параметры.

- **`"include": ["env.d.ts", "src/**/_", "src/\*\*/_.vue"]`\*\*  
  Указывает, какие файлы и директории TypeScript должен обрабатывать.

  - `"env.d.ts"` — файл деклараций для определения глобальных переменных окружения (например, `import.meta.env` в Vite). Обычно содержит типы для переменных окружения, используемых в Vue-проекте.
  - `"src/**/*"` — включает все файлы в папке `src` и её подпапках (например, `.ts`, `.tsx`).
  - `"src/**/*.vue"` — явно включает однофайловые компоненты Vue (`.vue`), чтобы TypeScript и `vue-tsc` обрабатывали их корректно.
  - Это гарантирует, что весь клиентский код приложения (логика, компоненты, стили) будет проверен на типы и скомпилирован.

- **`"exclude": ["src/**/**tests**/\*"]`\*\*  
  Исключает файлы и директории из обработки текущей конфигурацией.

  - `"src/**/__tests__/*"` — исключает тестовые файлы, находящиеся в папках `__tests__` внутри `src`.
  - Это важно, так как тесты обычно обрабатываются отдельной конфигурацией (например, `tsconfig.vitest.json`, упомянутой в корневом `tsconfig.json`).
  - Исключение тестов предотвращает их ненужную компиляцию как части основного приложения.

- **`"compilerOptions": { ... }`**  
  Объект с дополнительными настройками компилятора TypeScript.

  - **`"tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo"`**  
    Указывает путь для хранения кэша компиляции (инкрементальной сборки).

    - Файл `.tsbuildinfo` содержит информацию о предыдущих компиляциях, что ускоряет повторные проверки типов и сборки.
    - Размещение в `node_modules/.tmp` (временная папка) предотвращает засорение корня проекта и позволяет игнорировать этот файл в Git.
    - Это полезно для больших Vue-проектов, где инкрементальная компиляция экономит время.

  - **`"paths": { "@/*": ["./src/*"] }`**  
    Настраивает псевдонимы путей для упрощения импорта модулей.
    - `"@/*": ["./src/*"]` — позволяет использовать `@` как псевдоним для директории `src`.
    - Пример: вместо `import Component from '../../src/components/MyComponent.vue'` можно писать `import Component from '@/components/MyComponent.vue'`.
    - Это улучшает читаемость и упрощает рефакторинг, особенно в крупных Vue-проектах.
    - Для работы с Vite требуется аналогичная настройка в `vite.config.ts` (например, `alias: { '@': '/src' }`).
